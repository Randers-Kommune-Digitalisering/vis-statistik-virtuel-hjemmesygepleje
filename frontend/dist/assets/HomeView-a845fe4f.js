import{P as v,C as m,A as p,p as h,a as u,b as k}from"./chartjs-plugin-datalabels.esm-c0f4456f.js";import{_ as g,r as f,a as x,o as _,c as C,b as o,t as c,d,e as b,p as A,f as S,g as I,h as D}from"./index-84fe410d.js";const V={components:{Pie:v},setup(){m.register(p,h,u,k);const t=f({knox_active:0,knox_total:0,vitacomm_active:0,vitacomm_total:0});return fetch("/tablets/active",{method:"GET"}).then(a=>a.json()).then(a=>{t.value=a.active_now[0]}),{live_data:t}},computed:{knoxChartData(){const t=this.live_data.knox_active,a=this.live_data.knox_total-t;return{labels:["Aktive","Inaktive"],datasets:[{backgroundColor:["green","red"],data:[t,a]}]}},vitacommChartData(){const t=this.live_data.vitacomm_active,a=this.live_data.vitacomm_total-t;return{labels:["Aktive","Inaktive"],datasets:[{backgroundColor:["green","red"],data:[t,a]}]}},ChartOptions(){return{responsive:!0,maintainAspectRatio:!0,plugins:{datalabels:{formatter:(t,a)=>{let n=0;a.chart.data.datasets[0].data.map(e=>{n+=e});let r=(t*100/n).toFixed(2)+"%";return[t,r]},color:"#fff"}}}}}},l=t=>(A("data-v-2952707c"),t=t(),S(),t),y={key:0,class:"live"},B={class:"chart-container"},P=l(()=>o("p",null,"*Skærm er regnet aktiv hvis den er set tændt inden for de sidste 7 dage.",-1)),w={class:"chart-container"},E=l(()=>o("p",null,"*Skærm er regnet aktiv hvis der har været et besvaret opkald inden for de sidste 7 dage.",-1));function N(t,a,n,s,r,e){const i=x("Pie");return s.live_data.knox_total?(_(),C("div",y,[o("div",B,[o("h2",null,"Samsung skærme: "+c(s.live_data.knox_total),1),d(i,{data:e.knoxChartData,options:e.ChartOptions},null,8,["data","options"]),P]),o("div",w,[o("h2",null,"Vitacomm skærme: "+c(s.live_data.vitacomm_total),1),d(i,{data:e.vitacommChartData,options:e.ChartOptions},null,8,["data","options"]),E])])):b("",!0)}const O=g(V,[["render",N],["__scopeId","data-v-2952707c"]]),G=I({__name:"HomeView",setup(t){return(a,n)=>(_(),D(O))}});export{G as default};
